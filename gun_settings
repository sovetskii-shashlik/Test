local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local localPlayer = Players.LocalPlayer

local weaponSettings = {
    Auto = false,
    MuzzleOffset = Vector3.new(0, 0, 0),
    BaseDamage = 1000,
    FireRate = 0,
    ReloadTime = 0,
    AmmoPerClip = 999,
    AmmoPerMag = 999,
    Spread = 0,
    Range = 1000,
    
    HeadshotEnabled = true,
    HeadshotDamageMultiplier = 100,
    
    EquipTime = 0,
    IdleAnimationSpeed = 1,
    FireAnimationSpeed = 1,
    ReloadAnimationSpeed = 1,
    EquippedAnimationSpeed = 1,
    
    AimAnimationsEnabled = true,
    AimIdleAnimationSpeed = 1,
    AimFireAnimationSpeed = 1,
    IronsightEnabled = true,
    FieldOfViewIS = 70,
    MouseSensitiveIS = 0.1,
    SpreadRedutionIS = 1,
    
    LimitedClipEnabled = false,
    LimitedAmmoEnabled = false,
    Clips = 999,
    MaxClip = 999,
    Ammo = 999,
    MaxAmmo = 999,
    AutoReload = true,
    
    ShotgunEnabled = false,
    BulletPerShot = 5,
    BurstFireEnabled = false,
    BulletPerBurst = 1,
    BurstRate = 0,
    SniperEnabled = false,
    
    ExplosiveEnabled = false,
    ExplosionRadius = 50,
    SelfDamage = false,
    DamageBasedOnDistance = false,
    
    BulletSpeed = 10000,
    BulletSize = Vector3.new(1, 1, 200),
    VisualizerEnabled = false,
    Piercing = 10,
    PenetrationDepth = 10,
    PenetrationAmount = 10,
    
    CameraShakingEnabled = false,
    Intensity = 0,
    CameraRecoilingEnabled = false,
    Recoil = 0,
    
    HitEffectEnabled = true,
    HitSoundVolume = 1,
    HitSoundPitchMin = 1,
    HitSoundPitchMax = 1.5,
    HitmarkerEnabled = true,
    
    MuzzleFlashEnabled = true,
    MuzzleLightEnabled = true,
    BulletShellEnabled = true,
    BulletShellVelocity = 50,
    
    MeleeAttackEnabled = false,
    MeleeDamage = 100,
    MeleeHeadshotDamageMultiplier = 5,
    MeleeAttackRange = 10,
    
    Knockback = 0,
    Lifesteal = 0,
    FlamingBullet = false,
    Affliction = false,
    AfflictChance = 0,
    
    ChargedShotEnabled = false,
    MinigunEnabled = false,
    BatteryEnabled = false,
    DualEnabled = false,
    ProjectileMotion = false,
    
    CriticalDamageEnabled = false,
    CriticalBaseChance = 100,
    CriticalDamageMultiplier = 100,
    
    WalkSpeedRedutionEnabled = false,
    FriendlyFire = false,
    FirstPersonArms = false,
    
    MarkerEffectEnabled = false,
    MarkerEffectSize = 1,
    GoreEffectEnabled = false,
    BloodEnabled = false,
    SmokeTrailEnabled = false
}

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "WeaponEditor"
screenGui.Parent = game:GetService("CoreGui")

local showBtn = Instance.new("TextButton")
showBtn.Size = UDim2.new(0, 150, 0, 45)
showBtn.Position = UDim2.new(0, 10, 0, 10)
showBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
showBtn.TextColor3 = Color3.new(1, 1, 1)
showBtn.Text = "Show"
showBtn.Font = Enum.Font.GothamBold
showBtn.TextSize = 14
showBtn.Parent = screenGui
showBtn.Active = true
showBtn.Draggable = true

local showCorner = Instance.new("UICorner")
showCorner.CornerRadius = UDim.new(0, 8)
showCorner.Parent = showBtn

local showStroke = Instance.new("UIStroke")
showStroke.Thickness = 2
showStroke.Color = Color3.fromRGB(100, 100, 255)
showStroke.Parent = showBtn

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 600, 0, 400)
mainFrame.Position = UDim2.new(0.5, -300, 0.5, -200)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BackgroundTransparency = 0.1
mainFrame.Parent = screenGui
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Visible = false

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 8)
corner.Parent = mainFrame

local header = Instance.new("Frame")
header.Size = UDim2.new(1, 0, 0, 40)
header.Position = UDim2.new(0, 0, 0, 0)
header.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
header.Parent = mainFrame

local headerCorner = Instance.new("UICorner")
headerCorner.CornerRadius = UDim.new(0, 8)
headerCorner.Parent = header

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -80, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Weapon Editor"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = header

local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(1, -35, 0, 5)
closeBtn.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
closeBtn.Text = "X"
closeBtn.TextColor3 = Color3.new(1, 1, 1)
closeBtn.TextSize = 14
closeBtn.Parent = header

local hideBtn = Instance.new("TextButton")
hideBtn.Size = UDim2.new(0, 30, 0, 30)
hideBtn.Position = UDim2.new(1, -70, 0, 5)
hideBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
hideBtn.Text = "â€“"
hideBtn.TextColor3 = Color3.new(1, 1, 1)
hideBtn.TextSize = 14
hideBtn.Parent = header

local btnCorner = Instance.new("UICorner")
btnCorner.CornerRadius = UDim.new(0, 6)
btnCorner.Parent = closeBtn
btnCorner:Clone().Parent = hideBtn

local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, -20, 1, -60)
contentFrame.Position = UDim2.new(0, 10, 0, 50)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = mainFrame

local tabContainer = Instance.new("Frame")
tabContainer.Size = UDim2.new(1, 0, 0, 30)
tabContainer.Position = UDim2.new(0, 0, 0, 0)
tabContainer.BackgroundTransparency = 1
tabContainer.Parent = contentFrame

local tabs = {"basic", "fire", "ammo", "bullet", "visual", "effects", "special", "advanced"}
local tabButtons = {}
local tabFrames = {}
local currentTab = "basic"

for i, tabName in ipairs(tabs) do
    local tabBtn = Instance.new("TextButton")
    tabBtn.Size = UDim2.new(1/#tabs, -2, 1, 0)
    tabBtn.Position = UDim2.new((i-1)/#tabs, 0, 0, 0)
    tabBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    tabBtn.Text = tabName
    tabBtn.TextColor3 = Color3.new(1, 1, 1)
    tabBtn.Font = Enum.Font.Gotham
    tabBtn.TextSize = 11
    tabBtn.Parent = tabContainer
    
    local tabCorner = Instance.new("UICorner")
    tabCorner.CornerRadius = UDim.new(0, 4)
    tabCorner.Parent = tabBtn
    
    local tabFrame = Instance.new("ScrollingFrame")
    tabFrame.Size = UDim2.new(1, 0, 1, -40)
    tabFrame.Position = UDim2.new(0, 0, 0, 35)
    tabFrame.BackgroundTransparency = 1
    tabFrame.ScrollBarThickness = 4
    tabFrame.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 255)
    tabFrame.Visible = false
    tabFrame.Parent = contentFrame
    
    tabButtons[tabName] = tabBtn
    tabFrames[tabName] = tabFrame
    
    tabBtn.MouseButton1Click:Connect(function()
        currentTab = tabName
        for name, frame in pairs(tabFrames) do
            frame.Visible = (name == tabName)
        end
        for _, btn in pairs(tabButtons) do
            btn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
        end
        tabBtn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    end)
end

local function createNumberInput(parent, label, value, yPosition, settingName)
    local container = Instance.new("Frame")
    container.Size = UDim2.new(0.48, 0, 0, 30)
    container.Position = UDim2.new(0, 0, 0, yPosition)
    container.BackgroundTransparency = 1
    container.Parent = parent
    
    local labelText = Instance.new("TextLabel")
    labelText.Size = UDim2.new(0.7, -5, 1, 0)
    labelText.Position = UDim2.new(0, 0, 0, 0)
    labelText.BackgroundTransparency = 1
    labelText.Text = label
    labelText.TextColor3 = Color3.new(1, 1, 1)
    labelText.Font = Enum.Font.Gotham
    labelText.TextSize = 10
    labelText.TextXAlignment = Enum.TextXAlignment.Left
    labelText.TextWrapped = true
    labelText.Parent = container
    
    local inputFrame = Instance.new("Frame")
    inputFrame.Size = UDim2.new(0.3, 0, 0, 25)
    inputFrame.Position = UDim2.new(0.7, 0, 0, 2)
    inputFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    inputFrame.Parent = container
    
    local inputCorner = Instance.new("UICorner")
    inputCorner.CornerRadius = UDim.new(0, 4)
    inputCorner.Parent = inputFrame
    
    local valueBox = Instance.new("TextBox")
    valueBox.Size = UDim2.new(1, 0, 1, 0)
    valueBox.Position = UDim2.new(0, 0, 0, 0)
    valueBox.BackgroundTransparency = 1
    valueBox.Text = tostring(value)
    valueBox.TextColor3 = Color3.new(1, 1, 1)
    valueBox.Font = Enum.Font.Gotham
    valueBox.TextSize = 10
    valueBox.ClearTextOnFocus = false
    valueBox.Parent = inputFrame
    
    valueBox.FocusLost:Connect(function()
        local num = tonumber(valueBox.Text)
        if num then
            valueBox.Text = tostring(num)
            weaponSettings[settingName] = num
        else
            valueBox.Text = tostring(value)
        end
    end)
    
    return container
end

local function createVector3Input(parent, label, value, yPosition, settingName)
    local container = Instance.new("Frame")
    container.Size = UDim2.new(1, 0, 0, 70)
    container.Position = UDim2.new(0, 0, 0, yPosition)
    container.BackgroundTransparency = 1
    container.Parent = parent
    
    local labelText = Instance.new("TextLabel")
    labelText.Size = UDim2.new(1, 0, 0, 20)
    labelText.Position = UDim2.new(0, 0, 0, 0)
    labelText.BackgroundTransparency = 1
    labelText.Text = label
    labelText.TextColor3 = Color3.new(1, 1, 1)
    labelText.Font = Enum.Font.Gotham
    labelText.TextSize = 10
    labelText.TextXAlignment = Enum.TextXAlignment.Left
    labelText.Parent = container
    
    local xContainer = Instance.new("Frame")
    xContainer.Size = UDim2.new(0.32, -2, 0, 25)
    xContainer.Position = UDim2.new(0, 0, 0, 25)
    xContainer.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    xContainer.Parent = container
    
    local xLabel = Instance.new("TextLabel")
    xLabel.Size = UDim2.new(0.3, 0, 1, 0)
    xLabel.Position = UDim2.new(0, 5, 0, 0)
    xLabel.BackgroundTransparency = 1
    xLabel.Text = "X:"
    xLabel.TextColor3 = Color3.new(1, 1, 1)
    xLabel.Font = Enum.Font.Gotham
    xLabel.TextSize = 10
    xLabel.TextXAlignment = Enum.TextXAlignment.Left
    xLabel.Parent = xContainer
    
    local xBox = Instance.new("TextBox")
    xBox.Size = UDim2.new(0.7, -5, 1, 0)
    xBox.Position = UDim2.new(0.3, 0, 0, 0)
    xBox.BackgroundTransparency = 1
    xBox.Text = tostring(value.X)
    xBox.TextColor3 = Color3.new(1, 1, 1)
    xBox.Font = Enum.Font.Gotham
    xBox.TextSize = 10
    xBox.ClearTextOnFocus = false
    xBox.Parent = xContainer
    
    local yContainer = Instance.new("Frame")
    yContainer.Size = UDim2.new(0.32, -2, 0, 25)
    yContainer.Position = UDim2.new(0.34, 0, 0, 25)
    yContainer.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    yContainer.Parent = container
    
    local yLabel = Instance.new("TextLabel")
    yLabel.Size = UDim2.new(0.3, 0, 1, 0)
    yLabel.Position = UDim2.new(0, 5, 0, 0)
    yLabel.BackgroundTransparency = 1
    yLabel.Text = "Y:"
    yLabel.TextColor3 = Color3.new(1, 1, 1)
    yLabel.Font = Enum.Font.Gotham
    yLabel.TextSize = 10
    yLabel.TextXAlignment = Enum.TextXAlignment.Left
    yLabel.Parent = yContainer
    
    local yBox = Instance.new("TextBox")
    yBox.Size = UDim2.new(0.7, -5, 1, 0)
    yBox.Position = UDim2.new(0.3, 0, 0, 0)
    yBox.BackgroundTransparency = 1
    yBox.Text = tostring(value.Y)
    yBox.TextColor3 = Color3.new(1, 1, 1)
    yBox.Font = Enum.Font.Gotham
    yBox.TextSize = 10
    yBox.ClearTextOnFocus = false
    yBox.Parent = yContainer
    
    local zContainer = Instance.new("Frame")
    zContainer.Size = UDim2.new(0.32, 0, 0, 25)
    zContainer.Position = UDim2.new(0.68, 0, 0, 25)
    zContainer.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    zContainer.Parent = container
    
    local zLabel = Instance.new("TextLabel")
    zLabel.Size = UDim2.new(0.3, 0, 1, 0)
    zLabel.Position = UDim2.new(0, 5, 0, 0)
    zLabel.BackgroundTransparency = 1
    zLabel.Text = "Z:"
    zLabel.TextColor3 = Color3.new(1, 1, 1)
    zLabel.Font = Enum.Font.Gotham
    zLabel.TextSize = 10
    zLabel.TextXAlignment = Enum.TextXAlignment.Left
    zLabel.Parent = zContainer
    
    local zBox = Instance.new("TextBox")
    zBox.Size = UDim2.new(0.7, -5, 1, 0)
    zBox.Position = UDim2.new(0.3, 0, 0, 0)
    zBox.BackgroundTransparency = 1
    zBox.Text = tostring(value.Z)
    zBox.TextColor3 = Color3.new(1, 1, 1)
    zBox.Font = Enum.Font.Gotham
    zBox.TextSize = 10
    zBox.ClearTextOnFocus = false
    zBox.Parent = zContainer
    
    local inputCorner = Instance.new("UICorner")
    inputCorner.CornerRadius = UDim.new(0, 4)
    inputCorner.Parent = xContainer
    inputCorner:Clone().Parent = yContainer
    inputCorner:Clone().Parent = zContainer
    
    local function updateVector()
        local x = tonumber(xBox.Text) or value.X
        local y = tonumber(yBox.Text) or value.Y
        local z = tonumber(zBox.Text) or value.Z
        weaponSettings[settingName] = Vector3.new(x, y, z)
    end
    
    xBox.FocusLost:Connect(updateVector)
    yBox.FocusLost:Connect(updateVector)
    zBox.FocusLost:Connect(updateVector)
    
    return container
end

local function createToggle(parent, label, value, yPosition, settingName)
    local container = Instance.new("Frame")
    container.Size = UDim2.new(0.48, 0, 0, 30)
    container.Position = UDim2.new(0, 0, 0, yPosition)
    container.BackgroundTransparency = 1
    container.Parent = parent
    
    local labelText = Instance.new("TextLabel")
    labelText.Size = UDim2.new(0.7, -5, 1, 0)
    labelText.Position = UDim2.new(0, 0, 0, 0)
    labelText.BackgroundTransparency = 1
    labelText.Text = label
    labelText.TextColor3 = Color3.new(1, 1, 1)
    labelText.Font = Enum.Font.Gotham
    labelText.TextSize = 10
    labelText.TextXAlignment = Enum.TextXAlignment.Left
    labelText.TextWrapped = true
    labelText.Parent = container
    
    local toggle = Instance.new("TextButton")
    toggle.Size = UDim2.new(0.3, 0, 0, 25)
    toggle.Position = UDim2.new(0.7, 0, 0, 2)
    toggle.BackgroundColor3 = value and Color3.fromRGB(60, 180, 60) or Color3.fromRGB(180, 60, 60)
    toggle.Text = value and "ON" or "OFF"
    toggle.TextColor3 = Color3.new(1, 1, 1)
    toggle.Font = Enum.Font.GothamBold
    toggle.TextSize = 9
    toggle.Parent = container
    
    local toggleCorner = Instance.new("UICorner")
    toggleCorner.CornerRadius = UDim.new(0, 4)
    toggleCorner.Parent = toggle
    
    toggle.MouseButton1Click:Connect(function()
        value = not value
        weaponSettings[settingName] = value
        toggle.BackgroundColor3 = value and Color3.fromRGB(60, 180, 60) or Color3.fromRGB(180, 60, 60)
        toggle.Text = value and "ON" or "OFF"
    end)
    
    return container
end

local function createColumn(parent, xOffset)
    local column = Instance.new("Frame")
    column.Size = UDim2.new(0.48, 0, 1, 0)
    column.Position = UDim2.new(xOffset, 0, 0, 0)
    column.BackgroundTransparency = 1
    column.Parent = parent
    return column
end

local basicColumn1 = createColumn(tabFrames.basic, 0)
local basicColumn2 = createColumn(tabFrames.basic, 0.5)

createNumberInput(basicColumn1, "Fire Rate", weaponSettings.FireRate, 0, "FireRate")
createNumberInput(basicColumn1, "Reload Time", weaponSettings.ReloadTime, 35, "ReloadTime")
createNumberInput(basicColumn1, "Base Damage", weaponSettings.BaseDamage, 70, "BaseDamage")
createNumberInput(basicColumn1, "Headshot Multiplier", weaponSettings.HeadshotDamageMultiplier, 105, "HeadshotDamageMultiplier")
createNumberInput(basicColumn1, "Range", weaponSettings.Range, 140, "Range")
createNumberInput(basicColumn1, "Spread", weaponSettings.Spread, 175, "Spread")
createNumberInput(basicColumn1, "Equip Time", weaponSettings.EquipTime, 210, "EquipTime")

createToggle(basicColumn2, "Auto Fire", weaponSettings.Auto, 0, "Auto")
createToggle(basicColumn2, "Headshots", weaponSettings.HeadshotEnabled, 35, "HeadshotEnabled")
createToggle(basicColumn2, "Aim Animations", weaponSettings.AimAnimationsEnabled, 70, "AimAnimationsEnabled")
createToggle(basicColumn2, "Ironsight", weaponSettings.IronsightEnabled, 105, "IronsightEnabled")
createToggle(basicColumn2, "Auto Reload", weaponSettings.AutoReload, 140, "AutoReload")
createToggle(basicColumn2, "Walk Speed Reduction", weaponSettings.WalkSpeedRedutionEnabled, 175, "WalkSpeedRedutionEnabled")
createToggle(basicColumn2, "Friendly Fire", weaponSettings.FriendlyFire, 210, "FriendlyFire")

local fireColumn1 = createColumn(tabFrames.fire, 0)
local fireColumn2 = createColumn(tabFrames.fire, 0.5)

createNumberInput(fireColumn1, "Ammo Per Clip", weaponSettings.AmmoPerClip, 0, "AmmoPerClip")
createNumberInput(fireColumn1, "Ammo Per Mag", weaponSettings.AmmoPerMag, 35, "AmmoPerMag")
createNumberInput(fireColumn1, "Bullets Per Shot", weaponSettings.BulletPerShot, 70, "BulletPerShot")
createNumberInput(fireColumn1, "Burst Count", weaponSettings.BulletPerBurst, 105, "BulletPerBurst")
createNumberInput(fireColumn1, "Burst Rate", weaponSettings.BurstRate, 140, "BurstRate")
createNumberInput(fireColumn1, "Field of View", weaponSettings.FieldOfViewIS, 175, "FieldOfViewIS")
createNumberInput(fireColumn1, "Mouse Sensitivity", weaponSettings.MouseSensitiveIS, 210, "MouseSensitiveIS")

createToggle(fireColumn2, "Shotgun Mode", weaponSettings.ShotgunEnabled, 0, "ShotgunEnabled")
createToggle(fireColumn2, "Burst Fire", weaponSettings.BurstFireEnabled, 35, "BurstFireEnabled")
createToggle(fireColumn2, "Sniper Mode", weaponSettings.SniperEnabled, 70, "SniperEnabled")
createToggle(fireColumn2, "Limited Clip", weaponSettings.LimitedClipEnabled, 105, "LimitedClipEnabled")
createToggle(fireColumn2, "Limited Ammo", weaponSettings.LimitedAmmoEnabled, 140, "LimitedAmmoEnabled")
createToggle(fireColumn2, "First Person Arms", weaponSettings.FirstPersonArms, 175, "FirstPersonArms")

local ammoColumn1 = createColumn(tabFrames.ammo, 0)
local ammoColumn2 = createColumn(tabFrames.ammo, 0.5)

createNumberInput(ammoColumn1, "Current Ammo", weaponSettings.Ammo, 0, "Ammo")
createNumberInput(ammoColumn1, "Max Ammo", weaponSettings.MaxAmmo, 35, "MaxAmmo")
createNumberInput(ammoColumn1, "Clips", weaponSettings.Clips, 70, "Clips")
createNumberInput(ammoColumn1, "Max Clips", weaponSettings.MaxClip, 105, "MaxClip")
createNumberInput(ammoColumn1, "Idle Anim Speed", weaponSettings.IdleAnimationSpeed, 140, "IdleAnimationSpeed")
createNumberInput(ammoColumn1, "Fire Anim Speed", weaponSettings.FireAnimationSpeed, 175, "FireAnimationSpeed")
createNumberInput(ammoColumn1, "Reload Anim Speed", weaponSettings.ReloadAnimationSpeed, 210, "ReloadAnimationSpeed")

createNumberInput(ammoColumn2, "Equipped Anim Speed", weaponSettings.EquippedAnimationSpeed, 0, "EquippedAnimationSpeed")
createNumberInput(ammoColumn2, "Aim Idle Speed", weaponSettings.AimIdleAnimationSpeed, 35, "AimIdleAnimationSpeed")
createNumberInput(ammoColumn2, "Aim Fire Speed", weaponSettings.AimFireAnimationSpeed, 70, "AimFireAnimationSpeed")
createNumberInput(ammoColumn2, "Spread Reduction", weaponSettings.SpreadRedutionIS, 105, "SpreadRedutionIS")
createNumberInput(ammoColumn2, "Shell Velocity", weaponSettings.BulletShellVelocity, 140, "BulletShellVelocity")
createNumberInput(ammoColumn2, "Marker Size", weaponSettings.MarkerEffectSize, 175, "MarkerEffectSize")

local bulletColumn1 = createColumn(tabFrames.bullet, 0)
local bulletColumn2 = createColumn(tabFrames.bullet, 0.5)

createNumberInput(bulletColumn1, "Bullet Speed", weaponSettings.BulletSpeed, 0, "BulletSpeed")
createNumberInput(bulletColumn1, "Piercing", weaponSettings.Piercing, 35, "Piercing")
createNumberInput(bulletColumn1, "Penetration Depth", weaponSettings.PenetrationDepth, 70, "PenetrationDepth")
createNumberInput(bulletColumn1, "Penetration Amount", weaponSettings.PenetrationAmount, 105, "PenetrationAmount")
createNumberInput(bulletColumn1, "Explosion Radius", weaponSettings.ExplosionRadius, 140, "ExplosionRadius")
createNumberInput(bulletColumn1, "Intensity", weaponSettings.Intensity, 175, "Intensity")
createNumberInput(bulletColumn1, "Recoil", weaponSettings.Recoil, 210, "Recoil")

createToggle(bulletColumn2, "Explosive Bullets", weaponSettings.ExplosiveEnabled, 0, "ExplosiveEnabled")
createToggle(bulletColumn2, "Self Damage", weaponSettings.SelfDamage, 35, "SelfDamage")
createToggle(bulletColumn2, "Damage by Distance", weaponSettings.DamageBasedOnDistance, 70, "DamageBasedOnDistance")
createToggle(bulletColumn2, "Bullet Visualizer", weaponSettings.VisualizerEnabled, 105, "VisualizerEnabled")
createToggle(bulletColumn2, "Camera Recoil", weaponSettings.CameraRecoilingEnabled, 140, "CameraRecoilingEnabled")
createToggle(bulletColumn2, "Projectile Motion", weaponSettings.ProjectileMotion, 175, "ProjectileMotion")

local visualColumn = tabFrames.visual
createVector3Input(visualColumn, "Bullet Size", weaponSettings.BulletSize, 0, "BulletSize")

local effectsColumn1 = createColumn(tabFrames.effects, 0)
local effectsColumn2 = createColumn(tabFrames.effects, 0.5)

createNumberInput(effectsColumn1, "Sound Volume", weaponSettings.HitSoundVolume, 0, "HitSoundVolume")
createNumberInput(effectsColumn1, "Sound Pitch Min", weaponSettings.HitSoundPitchMin, 35, "HitSoundPitchMin")
createNumberInput(effectsColumn1, "Sound Pitch Max", weaponSettings.HitSoundPitchMax, 70, "HitSoundPitchMax")
createNumberInput(effectsColumn1, "Knockback", weaponSettings.Knockback, 105, "Knockback")
createNumberInput(effectsColumn1, "Lifesteal", weaponSettings.Lifesteal, 140, "Lifesteal")
createNumberInput(effectsColumn1, "Afflict Chance", weaponSettings.AfflictChance, 175, "AfflictChance")
createNumberInput(effectsColumn1, "Melee Damage", weaponSettings.MeleeDamage, 210, "MeleeDamage")

createToggle(effectsColumn2, "Muzzle Flash", weaponSettings.MuzzleFlashEnabled, 0, "MuzzleFlashEnabled")
createToggle(effectsColumn2, "Camera Shake", weaponSettings.CameraShakingEnabled, 35, "CameraShakingEnabled")
createToggle(effectsColumn2, "Hit Effects", weaponSettings.HitEffectEnabled, 70, "HitEffectEnabled")
createToggle(effectsColumn2, "Hit Marker", weaponSettings.HitmarkerEnabled, 105, "HitmarkerEnabled")
createToggle(effectsColumn2, "Muzzle Light", weaponSettings.MuzzleLightEnabled, 140, "MuzzleLightEnabled")
createToggle(effectsColumn2, "Bullet Shell", weaponSettings.BulletShellEnabled, 175, "BulletShellEnabled")
createToggle(effectsColumn2, "Marker Effect", weaponSettings.MarkerEffectEnabled, 210, "MarkerEffectEnabled")

local specialColumn1 = createColumn(tabFrames.special, 0)
local specialColumn2 = createColumn(tabFrames.special, 0.5)

createNumberInput(specialColumn1, "Crit Chance", weaponSettings.CriticalBaseChance, 0, "CriticalBaseChance")
createNumberInput(specialColumn1, "Crit Multiplier", weaponSettings.CriticalDamageMultiplier, 35, "CriticalDamageMultiplier")
createNumberInput(specialColumn1, "Melee Headshot Multi", weaponSettings.MeleeHeadshotDamageMultiplier, 70, "MeleeHeadshotDamageMultiplier")
createNumberInput(specialColumn1, "Melee Range", weaponSettings.MeleeAttackRange, 105, "MeleeAttackRange")

createToggle(specialColumn2, "Critical Damage", weaponSettings.CriticalDamageEnabled, 0, "CriticalDamageEnabled")
createToggle(specialColumn2, "Flaming Bullets", weaponSettings.FlamingBullet, 35, "FlamingBullet")
createToggle(specialColumn2, "Affliction", weaponSettings.Affliction, 70, "Affliction")
createToggle(specialColumn2, "Melee Attack", weaponSettings.MeleeAttackEnabled, 105, "MeleeAttackEnabled")
createToggle(specialColumn2, "Gore Effects", weaponSettings.GoreEffectEnabled, 140, "GoreEffectEnabled")
createToggle(specialColumn2, "Blood Effects", weaponSettings.BloodEnabled, 175, "BloodEnabled")
createToggle(specialColumn2, "Smoke Trail", weaponSettings.SmokeTrailEnabled, 210, "SmokeTrailEnabled")

local advancedColumn1 = createColumn(tabFrames.advanced, 0)
local advancedColumn2 = createColumn(tabFrames.advanced, 0.5)

createToggle(advancedColumn1, "Charged Shot", weaponSettings.ChargedShotEnabled, 0, "ChargedShotEnabled")
createToggle(advancedColumn1, "Minigun", weaponSettings.MinigunEnabled, 35, "MinigunEnabled")
createToggle(advancedColumn1, "Battery", weaponSettings.BatteryEnabled, 70, "BatteryEnabled")
createToggle(advancedColumn1, "Dual Weapons", weaponSettings.DualEnabled, 105, "DualEnabled")

local actionFrame = Instance.new("Frame")
actionFrame.Size = UDim2.new(1, 0, 0, 40)
actionFrame.Position = UDim2.new(0, 0, 1, -40)
actionFrame.BackgroundTransparency = 1
actionFrame.Parent = contentFrame

local applyBtn = Instance.new("TextButton")
applyBtn.Size = UDim2.new(0.6, -5, 0, 35)
applyBtn.Position = UDim2.new(0, 0, 0, 2)
applyBtn.BackgroundColor3 = Color3.fromRGB(60, 180, 60)
applyBtn.Text = "Apply settings"
applyBtn.TextColor3 = Color3.new(1, 1, 1)
applyBtn.Font = Enum.Font.GothamBold
applyBtn.TextSize = 12
applyBtn.Parent = actionFrame

local resetBtn = Instance.new("TextButton")
resetBtn.Size = UDim2.new(0.4, -5, 0, 35)
resetBtn.Position = UDim2.new(0.6, 5, 0, 2)
resetBtn.BackgroundColor3 = Color3.fromRGB(200, 120, 60)
resetBtn.Text = "Reset"
resetBtn.TextColor3 = Color3.new(1, 1, 1)
resetBtn.Font = Enum.Font.GothamBold
resetBtn.TextSize = 12
resetBtn.Parent = actionFrame

local actionCorner = Instance.new("UICorner")
actionCorner.CornerRadius = UDim.new(0, 6)
actionCorner.Parent = applyBtn
actionCorner:Clone().Parent = resetBtn

local function applyToAllWeapons()
    local garbage = getgc(true)
    for i, table in pairs(garbage) do
        if type(table) == "table" and rawget(table, "FireRate") then
            for settingName, value in pairs(weaponSettings) do
                rawset(table, settingName, value)
            end
        end
    end
end

applyBtn.MouseButton1Click:Connect(function()
    applyToAllWeapons()
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Weapon Editor",
        Text = "Settings applied to all weapons",
        Duration = 2
    })
end)

resetBtn.MouseButton1Click:Connect(function()
    for k, v in pairs(weaponSettings) do
        if type(v) == "boolean" then
            weaponSettings[k] = false
        elseif type(v) == "number" then
            weaponSettings[k] = 0
        end
    end
    weaponSettings.Auto = false
    weaponSettings.BaseDamage = 1000
    weaponSettings.HeadshotDamageMultiplier = 100
    weaponSettings.Range = 1000
    weaponSettings.AmmoPerClip = 999
    weaponSettings.AmmoPerMag = 999
    weaponSettings.Ammo = 999
    weaponSettings.MaxAmmo = 999
    weaponSettings.Clips = 999
    weaponSettings.MaxClip = 999
    weaponSettings.BulletSpeed = 10000
    weaponSettings.Piercing = 10
    weaponSettings.ExplosionRadius = 50
    weaponSettings.Knockback = 0
    weaponSettings.Lifesteal = 0
    weaponSettings.CriticalBaseChance = 100
    weaponSettings.CriticalDamageMultiplier = 100
    weaponSettings.MeleeDamage = 100
    weaponSettings.MeleeHeadshotDamageMultiplier = 100
    weaponSettings.MeleeAttackRange = 10
    weaponSettings.AfflictChance = 0
    weaponSettings.BulletSize = Vector3.new(1, 1, 200)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Weapon Editor",
        Text = "Settings reset",
        Duration = 2
    })
end)

showBtn.MouseButton1Click:Connect(function()
    mainFrame.Visible = true
    showBtn.Visible = false
end)

hideBtn.MouseButton1Click:Connect(function()
    mainFrame.Visible = false
    showBtn.Visible = true
end)

closeBtn.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)

for _, frame in pairs(tabFrames) do
    frame.CanvasSize = UDim2.new(0, 0, 0, 250)
end

tabFrames.basic.Visible = true
tabButtons.basic.BackgroundColor3 = Color3.fromRGB(100, 100, 100)

if UserInputService.TouchEnabled then
    mainFrame.Size = UDim2.new(0, 550, 0, 380)
    mainFrame.Position = UDim2.new(0.5, -275, 0.5, -190)
    showBtn.Size = UDim2.new(0, 140, 0, 40)
end